<html>
<head>
<title>TeleOp.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,0,128); font-weight: bold; }
.s1 { }
.s2 { color: rgb(204,120,50); }
.s3 { color: rgb(128,128,128); font-style: italic; }
.s4 { color: rgb(128,128,128); font-style: italic; }
.s5 { color: rgb(0,0,255); }
.s6 { color: rgb(0,128,0); font-weight: bold; }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
TeleOp.java</FONT>
</center></TD></TR></TABLE>
<pre>

<span class="s0">package </span><span class="s1">com.qualcomm.ftcrobotcontroller.opmodes</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">com.qualcomm.robotcore.eventloop.opmode.OpMode</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com.qualcomm.robotcore.hardware.DcMotor</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com.qualcomm.robotcore.hardware.Servo</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com.qualcomm.robotcore.hardware.TouchSensor</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com.qualcomm.robotcore.util.Range</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s3">/** 
 * TeleOp Mode 
 * </span><span class="s4">&lt;p/&gt;</span><span class="s3"> 
 * Enables control of the robot via the gamepad 
 */</span><span class="s1"> 
</span><span class="s0">public class </span><span class="s1">TeleOp </span><span class="s0">extends </span><span class="s1">OpMode { 
 
    DcMotor FL</span><span class="s2">;</span><span class="s1"> 
    DcMotor BR</span><span class="s2">;</span><span class="s1"> 
    DcMotor BL</span><span class="s2">;</span><span class="s1"> 
    DcMotor FR</span><span class="s2">;</span><span class="s1"> 
 
    DcMotor collector</span><span class="s2">;</span><span class="s1"> 
    DcMotor extendor1</span><span class="s2">;</span><span class="s1"> 
    DcMotor extendor2</span><span class="s2">;</span><span class="s1"> 
    DcMotor climber</span><span class="s2">;</span><span class="s1"> 
 
    TouchSensor TOUCHSENSOR1</span><span class="s2">;</span><span class="s1"> 
    TouchSensor TOUCHSENSOR2</span><span class="s2">;</span><span class="s1"> 
 
    Servo sideArmL</span><span class="s2">;</span><span class="s1"> 
    Servo sideArmR</span><span class="s2">;</span><span class="s1"> 
    Servo climberDumper</span><span class="s2">;</span><span class="s1"> 
    Servo debDumper</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s0">float </span><span class="s1">YPower</span><span class="s2">, </span><span class="s1">XPower</span><span class="s2">, </span><span class="s1">rotPower</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">int </span><span class="s1">direction = </span><span class="s5">1</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">int </span><span class="s1">directionOld = </span><span class="s5">1</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s0">public </span><span class="s1">TeleOp() { 
 
    } 
 
    @Override 
    </span><span class="s0">public void </span><span class="s1">init() { 
 
        FR = hardwareMap.dcMotor.get(</span><span class="s6">&quot;FR&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        FL = hardwareMap.dcMotor.get(</span><span class="s6">&quot;FL&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        BR = hardwareMap.dcMotor.get(</span><span class="s6">&quot;BR&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
 
        TOUCHSENSOR1 = hardwareMap.touchSensor.get(</span><span class="s6">&quot;t1&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        TOUCHSENSOR2= hardwareMap.touchSensor.get(</span><span class="s6">&quot;t2&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
 
        sideArmL = hardwareMap.servo.get(</span><span class="s6">&quot;sideArmL&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        sideArmR = hardwareMap.servo.get(</span><span class="s6">&quot;sideArmR&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        climberDumper = hardwareMap.servo.get(</span><span class="s6">&quot;climberdumper&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        debDumper = hardwareMap.servo.get(</span><span class="s6">&quot;debDumper&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
 
        collector = hardwareMap.dcMotor.get(</span><span class="s6">&quot;colmot&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        extendor1 = hardwareMap.dcMotor.get(</span><span class="s6">&quot;ext1&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        extendor2 = hardwareMap.dcMotor.get(</span><span class="s6">&quot;ext2&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        climber = hardwareMap.dcMotor.get(</span><span class="s6">&quot;lock&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        BL = hardwareMap.dcMotor.get(</span><span class="s6">&quot;BL&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
    } 
 
    @Override 
    </span><span class="s0">public void </span><span class="s1">loop() { 
        </span><span class="s0">if </span><span class="s1">(gamepad1.x &amp;&amp; direction == directionOld) { 
            direction *= -</span><span class="s5">1</span><span class="s2">;</span><span class="s1"> 
        } 
        directionOld = direction</span><span class="s2">;</span><span class="s1"> 
 
        drive()</span><span class="s2">;</span><span class="s1"> 
        atatchmentControl()</span><span class="s2">;</span><span class="s1"> 
        telemetry.addData(</span><span class="s6">&quot;Text&quot;</span><span class="s2">, </span><span class="s6">&quot;*** Robot Data***&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        telemetry.addData(</span><span class="s6">&quot;Forwards power&quot;</span><span class="s2">, </span><span class="s6">&quot;&quot; </span><span class="s1">+ String.format(</span><span class="s6">&quot;%.2f&quot;</span><span class="s2">, </span><span class="s1">YPower))</span><span class="s2">;</span><span class="s1"> 
        telemetry.addData(</span><span class="s6">&quot;Left/Right Power&quot;</span><span class="s2">, </span><span class="s6">&quot;&quot; </span><span class="s1">+ String.format(</span><span class="s6">&quot;%.2f&quot;</span><span class="s2">, </span><span class="s1">XPower))</span><span class="s2">;</span><span class="s1"> 
        telemetry.addData(</span><span class="s6">&quot;Rotation power&quot;</span><span class="s2">, </span><span class="s6">&quot;&quot; </span><span class="s1">+ String.format(</span><span class="s6">&quot;%.2f&quot;</span><span class="s2">, </span><span class="s1">rotPower))</span><span class="s2">;</span><span class="s1"> 
        telemetry.addData(</span><span class="s6">&quot;Driving Direction&quot;</span><span class="s2">, </span><span class="s6">&quot;&quot; </span><span class="s1">+ String.format(</span><span class="s6">&quot;%s&quot;</span><span class="s2">, </span><span class="s1">direction))</span><span class="s2">;</span><span class="s1"> 
 
    } 
 
    @Override 
    </span><span class="s0">public void </span><span class="s1">stop() { 
 
    } 
 
    </span><span class="s0">private void </span><span class="s1">drive() { 
        </span><span class="s0">float </span><span class="s1">YVal = direction * gamepad1.left_stick_y</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">float </span><span class="s1">XVal = direction * gamepad1.left_stick_x</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">float </span><span class="s1">RotVal = -gamepad1.right_stick_x</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s3">// clip the right/left values so that the values never exceed +/- 1</span><span class="s1"> 
        YPower = Range.clip(YVal</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        XPower = Range.clip(XVal</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        rotPower = Range.clip(RotVal</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s0">float </span><span class="s1">FRpower = YPower + XPower - rotPower</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">float </span><span class="s1">FLpower = -(YPower - XPower + rotPower)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">float </span><span class="s1">BRpower = YPower - XPower - rotPower</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">float </span><span class="s1">BLpower = -(YPower + XPower + rotPower)</span><span class="s2">;</span><span class="s1"> 
 
        FRpower = Range.clip(FRpower</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        FLpower = Range.clip(FLpower</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        BRpower = Range.clip(BRpower</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        BLpower = Range.clip(BLpower</span><span class="s2">, </span><span class="s1">-</span><span class="s5">1</span><span class="s2">, </span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s3">// write the values to the motors</span><span class="s1"> 
        FR.setPower(FRpower)</span><span class="s2">;</span><span class="s1"> 
        BR.setPower(FLpower)</span><span class="s2">;</span><span class="s1"> 
        FL.setPower(BRpower)</span><span class="s2">;</span><span class="s1"> 
        BL.setPower(BLpower)</span><span class="s2">;</span><span class="s1"> 
    } 
 
 
    </span><span class="s0">private void </span><span class="s1">atatchmentControl() { 
 
        </span><span class="s0">int </span><span class="s1">collectorval</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s1">(gamepad2.right_bumper) { 
            collectorval = </span><span class="s5">1</span><span class="s2">;</span><span class="s1"> 
        } </span><span class="s0">else if </span><span class="s1">(gamepad2.left_bumper) { 
            collectorval = -</span><span class="s5">1</span><span class="s2">;</span><span class="s1"> 
        } </span><span class="s0">else </span><span class="s1">collectorval = </span><span class="s5">0</span><span class="s2">;</span><span class="s1"> 
        collector.setPower(collectorval)</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s0">if </span><span class="s1">(gamepad2.dpad_right) { 
            debDumper.setPosition(</span><span class="s5">0.3</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } </span><span class="s0">else if </span><span class="s1">(gamepad2.dpad_left) { 
            debDumper.setPosition(</span><span class="s5">0.7</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } </span><span class="s0">else </span><span class="s1">debDumper.setPosition(</span><span class="s5">0.5</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        collector.setPower(collectorval)</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s0">if</span><span class="s1">(gamepad2.a){ 
            sideArmL.setPosition(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            sideArmR.setPosition(</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
        </span><span class="s0">else</span><span class="s1">{ 
            sideArmL.setPosition(</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            sideArmR.setPosition(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        </span><span class="s0">if </span><span class="s1">(gamepad2.y){ 
            climberDumper.setPosition(</span><span class="s5">0.5</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
        </span><span class="s0">else</span><span class="s1">{ 
            climberDumper.setPosition(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        </span><span class="s0">if </span><span class="s1">(gamepad2.right_trigger!=</span><span class="s5">0</span><span class="s1">){ 
 
            extendor1.setPower(</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            extendor2.setPower(-</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
        </span><span class="s0">else if </span><span class="s1">(gamepad2.left_trigger!=</span><span class="s5">0</span><span class="s1">){ 
            </span><span class="s0">if</span><span class="s1">(TOUCHSENSOR2.isPressed())extendor1.setPower(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">else </span><span class="s1">extendor1.setPower(-</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">if</span><span class="s1">(TOUCHSENSOR1.isPressed()) extendor2.setPower(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">else </span><span class="s1">extendor2.setPower(</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
        </span><span class="s0">else </span><span class="s1">{ 
            extendor1.setPower(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
            extendor2.setPower(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        </span><span class="s0">if </span><span class="s1">(gamepad1.right_bumper) { 
            climber.setPower(-</span><span class="s5">1</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        } </span><span class="s0">else </span><span class="s1">climber.setPower(</span><span class="s5">0</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
    } 
} 
</span></pre>
</body>
</html>